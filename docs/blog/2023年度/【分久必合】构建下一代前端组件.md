# ã€åˆ†ä¹…å¿…åˆã€‘æ„å»ºä¸‹ä¸€ä»£å‰ç«¯ç»„ä»¶

:::tip
>ğŸ„Hi~ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°é‘«åŒå­¦ï¼Œèµ„æ·± IT ä»ä¸šè€…ï¼ŒInfoQ çš„ç­¾çº¦ä½œè€…ï¼Œæ“…é•¿å‰ç«¯å¼€å‘å¹¶åœ¨è¿™ä¸€é¢†åŸŸæœ‰å¤šå¹´çš„ç»éªŒï¼Œè‡´åŠ›äºåˆ†äº«æˆ‘åœ¨æŠ€æœ¯æ–¹é¢çš„è§è§£å’Œå¿ƒå¾—
:::

æœ€è¿‘ä¸¤å¹´ä¸€ç›´åœ¨è¿­ä»£ä¸€å¥—ç”± **MicroApp** æ­å»ºçš„å¾®å‰ç«¯çš„é¡¹ç›®ï¼Œæ•´ä¸ªé¡¹ç›®ç”±ä¸€å¥— **Angualr8.x** çš„ä¸»é¡¹ç›® å’Œ ä¸¤å¥— **Vue3.0** çš„å­é¡¹ç›®ç»„æˆï¼Œè™½ç„¶ä¸‰å¥—é¡¹ç›®å‡é‡‡ç”¨äº† **Ant Design** ç»„ä»¶åº“ï¼Œä½†ç›®å‰ä¸»æµçš„ç»„ä»¶åº“å¤§å¤šéƒ½ä¸¥é‡ä¾èµ–æŠ€æœ¯æ¡†æ¶åŠæŠ€æœ¯æ¡†æ¶çš„ä¸åŒç‰ˆæœ¬ï¼Œåœ¨å¾®å‰ç«¯é¡¹ç›®ä¸­æå®¹æ˜“é€ æˆé¡µé¢æˆ–ç»„ä»¶çš„å¼€å‘å’Œç»´æŠ¤å·¥ä½œé‡ç¿»å€ï¼Œè€Œä¸”è¿˜æå®¹æ˜“é€ æˆå…¨å±€æ ·å¼çš„æ±¡æŸ“ã€‚
## ä¸ºä»€ä¹ˆé€‰æ‹© [Quarkc](https://quarkc.hellobike.com/#/) ï¼Ÿ
åœ¨æœ€è¿‘çš„ä¸€æ¬¡æŠ€æœ¯å¤§ä¼šä¸Šæ¥è§¦åˆ°äº†ç”± **å“ˆå•°æŠ€æœ¯å›¢é˜Ÿ** å¸¦æ¥çš„  [Quarkc](https://quarkc.hellobike.com/#/) å’Œ  [Quarkd](https://github.com/hellof2e/quark-design#documentation)ã€‚[Quarkc](https://quarkc.hellobike.com/#/) æ˜¯ç”±å“ˆå•°å¹³å°å‰ç«¯å›¢é˜Ÿå¼€å‘çš„ä¸€å¥—é¢å‘æœªæ¥çš„  æ— æ¡†æ¶  ç»„ä»¶æ„å»ºå·¥å…·ï¼åº•å±‚åŸºäºæµè§ˆå™¨åŸç”Ÿ API: [Web components](https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components)ã€‚çº¯åˆ©ç”¨ [Web components](https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components) API å¼€å‘ç»„ä»¶å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªç—›ç‚¹ï¼š

1. å¤§é‡çš„ DOM æ“ä½œï¼›
2. å¤„ç†ç‰ˆæœ¬å’Œæµè§ˆå™¨å…¼å®¹ï¼›
3. æ²¡æœ‰ä»£ç é«˜äº®æç¤ºï¼›
4. æ ·å¼è‡ªé€‚åº”ï¼›
5. ã€‚ã€‚ã€‚

æ­£å¦‚å“ˆå•°æŠ€æœ¯å›¢é˜Ÿçš„å¾é¡ºå‘è€å¸ˆè®²çš„ é™Œç”Ÿçš„API + åŸç”Ÿçš„å†™æ³• å¢åŠ äº†å­¦ä¹ æˆæœ¬ã€å¯¼è‡´æœªçŸ¥é—®é¢˜çš„å‡ºç°ã€è¿˜ä¼šå­˜åœ¨æ€§èƒ½é—®é¢˜ã€‚æ‰€ä»¥é€‰æ‹©åˆé€‚çš„æ¡†æ¶æ¥å¼€å‘ **Web components** ç»„ä»¶å°¤ä¸ºé‡è¦ï¼Œä»æ¡†æ¶çš„å­¦ä¹ æˆæœ¬ã€ç»´æŠ¤ç§¯ææ€§ã€å¼€å‘ä½“éªŒç­‰å› ç´ è€ƒè™‘ [Quarkc](https://quarkc.hellobike.com/#/) å¯èƒ½æ›´åŠ ç¬¦åˆè¿™äº›æ¡ä»¶ã€‚
## ä½“éªŒ [Quarkc](https://quarkc.hellobike.com/#/) å¼€å‘ç»„ä»¶ï¼š
æˆ‘åœ¨ [1024code](https://1024code.com/) å¹³å°å‡†å¤‡å¥½äº†ç”± `quarkc` åˆ›å»ºçš„ [quark-component-template](https://1024code.com/codecubes/wmfjb4f) æ¨¡æ¿é¡¹ç›®ï¼Œä½ å¯ä»¥ **Fork** æ­¤é¡¹ç›®åœ¨çº¿ä½“éªŒ Quarkc å¼€å‘ç»„ä»¶ã€‚

ä¸‹å›¾æ˜¯ Github Discussions çš„å¸¸é©»å…¬å‘Šæ å¡ç‰‡ï¼Œæ¥ä¸‹æ¥å°±ä½¿ç”¨`quarkc` æ¥å¼€å‘è·¨å¹³å°çš„å…¬å‘Šæ å¡ç‰‡ç»„ä»¶ã€‚
![](https://temp-files-20221205.oss-cn-hangzhou.aliyuncs.com/picgo/202307141136924.png#id=RPUIe&originHeight=216&originWidth=931&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
### è®¤è¯† Quark-Componentï¼š
ç›®å½•ç»“æ„ï¼š
```
quark-component-template
â”œâ”€â”€ sec
â”‚ â”œâ”€â”€ index.less 				// ç»„ä»¶æ ·å¼
â”‚ â”œâ”€â”€ index.tsx         // ç»„ä»¶æºç 
â”‚ â””â”€â”€ vite-env.d.ts
â”œâ”€â”€ index.html
â”œâ”€â”€ index.vue.html 
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.build.ts
â””â”€â”€ vite.config.ts
```
åœ¨ç›®å½•ä¸­ä¸»è¦å…³æ³¨ `src/index.tsx`æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­å®šä¹‰çš„ç»„ä»¶ç±»éœ€è¦ç»§æ‰¿è‡ª `QuarkElement`å¯¹è±¡å¹¶é‡å†™ `render` å‡½æ•°æ¥å®ç°ç»„ä»¶çš„ç»“æ„ï¼Œ ä½¿ç”¨ `@customElement`å®šä¹‰ç»„ä»¶çš„ `tag`åŠå¼•ç”¨çš„ `style`ã€‚
```tsx
import { QuarkElement, property, customElement } from 'quarkc';
import style from './index.less?inline';

declare global {
  interface HTMLElementTagNameMap {
    'discussion-spotlight-container': DiscussionSpotlightContainer;
}
}

@customElement({ tag: 'discussion-spotlight-container', style })
class DiscussionSpotlightContainer extends QuarkElement {

  render() {
    return (
      <>
        DiscussionSpotlightContainer
      </>
    );
  }
}

export default DiscussionSpotlightContainer;

```
### å¼€å‘å¸¸é©»å…¬å‘Šæ å¡ç‰‡ï¼š
![](https://temp-files-20221205.oss-cn-hangzhou.aliyuncs.com/picgo/202307141407524.png#id=kQLOm&originHeight=207&originWidth=464&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
é€šè¿‡åˆ†æå¡ç‰‡çš„æ„æˆï¼Œå®ƒä¸»è¦åŒ…å«äº†åŠ¨æ€çš„å¤´åƒã€æ ‡é¢˜å’Œé€šçŸ¥ä¸‰éƒ¨åˆ†ï¼Œé‚£ä¹ˆç»™å‡ºäº†ä¸‹é¢è¿™æ®µ `tsx` ç»“æ„ä»£ç ã€‚
```tsx
<>
  <div className="discussion-wapper">
    <div className="discussion-container">
      <img className="avatar" src={this.avatarUrl} />
      <h3 className="title">{this.title}</h3>
      <div className="notice">
        <span>{this.notice}</span>
        <span>Â·</span>
        <span>xsf0105</span>
      </div>
    </div>
  </div>
</>
```
æœŸé—´ä¸‰ä¸ªåŠ¨æ€çš„å†…å®¹éœ€è¦ç»„ä»¶åœ¨è¢«ä½¿ç”¨æ—¶ï¼Œæœ‰ä½¿ç”¨è€…å†³å®šä¼ å…¥çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¦æ¥æ”¶ä¸€äº›å±æ€§ï¼Œè¿™é‡Œä¼šç”¨åˆ° `@property`è£…é¥°å™¨ï¼Œå®Œå–„åçš„ä»£ç å¦‚ä¸‹ã€‚
```tsx
@customElement({ tag: 'discussion-spotlight-container', style })
class DiscussionSpotlightContainer extends QuarkElement {
  @property({ type: String })
  avatarUrl = '';

  @property({ type: String })
  title = '';

  @property({ type: String })
  notice = '';

  render() {
    return (
      <>
        <div className="discussion-wapper">
          <div className="discussion-container">
            <img className="avatar" src={this.avatarUrl} />
            <h3 className="title">{this.title}</h3>
            <div className="notice">
              <span>{this.notice}</span>
              <span>Â·</span>
              <span>xsf0105</span>
            </div>
          </div>
        </div>
      </>
    );
  }
}
```
è¿˜æœ‰æ ·å¼çš„éƒ¨åˆ†ä»£ç ï¼š
```less
.discussion-wapper {
  height: 150px;
  overflow: hidden;
  cursor: pointer;
  background-image: linear-gradient(to right, #58a6ff, #56d364);
  border-radius: 6px;
  border: 1px solid #d0d7de;
}

.discussion-container {
  margin-top: 32px;
  padding: 0 16px;
  height: 100%;
  background-color: #fff;
}

.avatar {
  height: 32px;
  aspect-ratio: auto 32 / 32;
  width: 32px;
  border: 1px solid #d0d7de;
  border-radius: 50%;
  margin-top: calc(-24px);
  border-color: #fff;
  border-width: 3px;
}

.title {
  margin-bottom: 8px;
  font-size: 20px;
  font-weight: 600;
}

.notice span {
  max-width: fit-content;
  min-width: 1ch;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.notice span:first-child {
  font-weight: 600;
  color: #57606A;
}

.notice span:nth-child(2) {
  margin-left: 0.25rem;
}

.notice span:nth-child(3) {
  margin-left: 0.25rem;
  color: #57606A;
}
```
è‡³æ­¤è¿™ä¸ªå…¬å‘Šæ å¡ç‰‡ç»„ä»¶å°±å·²ç»å¼€å‘å®Œæˆäº†ï¼Œå®ƒå°†å¯ä»¥ä½¿ç”¨åœ¨æ™®é€šçš„ HTML ç½‘é¡µï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨ Vueã€Reactã€Angular æŠ€æœ¯æ¡†æ¶çš„ä»»ä½•é¡¹ç›®ä¸­ï¼Œä½¿ç”¨çš„æ–¹å¼åŒæ ·è¦æ¯”ç›®å‰å¸¸ç”¨çš„ç»„ä»¶åº“ä½¿ç”¨æ–¹å¼è¦ç®€å•ï¼Œæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚
### é¢„è§ˆå¸¸é©»å…¬å‘Šæ å¡ç‰‡ï¼š
åœ¨æ‰§è¡Œ `npm run dev`ä¼šå¯åŠ¨ç»„ä»¶çš„æµ‹è¯•é¡µé¢ï¼Œå¯¹åº”çš„æ–‡ä»¶æ˜¯ `index.html`ï¼Œæ˜¯ä¸€ä¸ªä¸åŒ…å«ä»»ä½•æ¡†æ¶çš„çº¯ HTML æ–‡ä»¶ï¼Œä»…é€šè¿‡å¯¼å…¥ç»„ä»¶æ–‡ä»¶ï¼ˆ`./src/index.tsx`ï¼‰å°±å¯ä»¥ä½¿ç”¨ã€‚
```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Hello Quark</title>
    <script type="module" src="./src/index.tsx"></script>
  </head>
  <body>
    <discussion-spotlight-container
      avatarUrl="https://avatars.githubusercontent.com/u/14307551?s=32&v=4"
      title="Next quark design é‚€æ‚¨å…±å»º ğŸš€"
      notice="ğŸ“£ Announcements"
    ></discussion-spotlight-container>
  </body>
</html>
```
å¦å¤–åœ¨æ ¹ç›®å½•ä¸‹çš„ `index.vue.html` æ–‡ä»¶è¿˜æä¾›äº†ä¸€ä»½åœ¨ **Vuejs** ä¸­ä½¿ç”¨ç»„ä»¶çš„æ–¹å¼ï¼ŒåŒæ ·æ˜¯ä»…ä»…å¯¼å…¥ç»„ä»¶æ–‡ä»¶ï¼ˆ`import './src/index.tsx';`ï¼‰å°±å¯ä»¥ä½¿ç”¨ã€‚
```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Test in Vue.js</title>
  </head>
  <body>
    <div id="app">
      <discussion-spotlight-container
        :avatarUrl="avatarUrl"
        :title="title"
        :notice="notice"
      ></discussion-spotlight-container>
    </div>
  </body>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script type="module">
    import './src/index.tsx';
    const { createApp } = Vue;
    createApp({
      data() {
        return {
          avatarUrl:
            'https://avatars.githubusercontent.com/u/14307551?s=32&v=4',
          title: 'Next quark design é‚€æ‚¨å…±å»º ğŸš€',
          notice: 'ğŸ“£ Announcements',
        };
      },
    }).mount('#app');
  </script>
</html>
```
è¿™æ˜¯é¢„è§ˆçš„æ•ˆæœï¼š
![](https://temp-files-20221205.oss-cn-hangzhou.aliyuncs.com/picgo/202307141415294.png#id=WffsH&originHeight=929&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
PSï¼šhttps://1024code.com/codecubes/dx5axr8 ã€ŠDiscussionSpotlightCardã€‹ï¼Œè¯·ç‚¹å‡»é“¾æ¥æˆ–å¤åˆ¶é“¾æ¥åˆ°æµè§ˆå™¨æ‰“å¼€ï¼Œåœ¨çº¿æŸ¥çœ‹å’Œè¿è¡Œ
## æ‰“åŒ… & å†æ¬¡æµ‹è¯•ç»„ä»¶ï¼š
æ‰§è¡Œ `npm run build` å‘½ä»¤æ¥æ‰“åŒ…ç»„ä»¶äº§ç‰©å°†åœ¨`lib`ç›®å½•ä¸­è·å¾—ä¸‹é¢çš„å†…å®¹ï¼Œç»„ä»¶äº§ç‰©æš‚æ—¶ä¸è€ƒè™‘å‘å¸ƒ NPMï¼Œæ‰€ä»¥åœ¨ [1024code](https://1024code.com/) ä¸­åœ¨é¡¹ç›®å³ä¸Šè§’çš„é€‰æ‹©å¯¼å‡ºæ–‡ä»¶ã€‚
```
lib
â”œâ”€â”€ types
|     â””â”€â”€ index.d.ts
â”œâ”€â”€ index.js
â””â”€â”€ index.umd.js
```
ä¸ºäº†å†æ¬¡æµ‹è¯•ç»„ä»¶ï¼Œæˆ‘ä»¬ä¾æ—§å¯ä»¥é€‰æ‹©åœ¨ [1024code](https://1024code.com/)  å¹³å°ï¼Œæ–°å»º **Vuejs** æ¨¡æ¿é¡¹ç›®å¹¶éšæ„é€‰æ‹©ç‰ˆæœ¬å¹¶åˆ›å»ºä»£ç ç©ºé—´ï¼š
![](https://temp-files-20221205.oss-cn-hangzhou.aliyuncs.com/picgo/202307141429593.png#id=HuX0i&originHeight=873&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
æ¥ç€åˆ›å»º `webcomponents` ç›®å½•å¹¶ä¸Šä¼ æ‰“åŒ…çš„ç»„ä»¶äº§ç‰©ï¼Œæ­¤ **Vuejs** é¡¹ç›®åœ¨æ„å»ºæ—¶åº”æ’é™¤æ­¤ç›®å½•ã€‚
![](https://temp-files-20221205.oss-cn-hangzhou.aliyuncs.com/picgo/202307141440170.png#id=nkr78&originHeight=371&originWidth=446&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
æ‰§è¡Œ `npm i quarkc`å®‰è£…å”¯ä¸€çš„ä¾èµ–æ¨¡å—åå°±å¯ä»¥å¼€å§‹ä½¿ç”¨ç»„ä»¶äº†ï¼š
```vue
<template>
  <img alt="Vue logo" src="./assets/logo.png" />
  <discussion-spotlight-container
    :avatarUrl="data.avatarUrl"
    :title="data.title"
    :notice="data.notice"
  ></discussion-spotlight-container>
</template>
```
```vue
<script setup>
  // å¯¼å…¥ç»„ä»¶æ–‡ä»¶
  import './webcomponents/discussion-spotlight-container/index';

  // å®šä¹‰ç»„ä»¶å±æ€§æ•°æ®
  const data = {
    avatarUrl: 'https://avatars.githubusercontent.com/u/14307551?s=32&v=4',
    title: 'Next quark design é‚€æ‚¨å…±å»º ğŸš€',
    notice: 'ğŸ“£ Announcements',
  };
</script>
```
![](https://temp-files-20221205.oss-cn-hangzhou.aliyuncs.com/picgo/202307141446380.png#id=ew6JO&originHeight=929&originWidth=1531&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
## æ€»ç»“ï¼š
QuarkC ä½¿ç”¨é¢å‘ Class å¹¶é…åˆè£…é¥°å™¨çš„æ¥æä¾›ç»„ä»¶å¼€å‘çš„æ–¹å¼ï¼Œå¯¹äºä¹ æƒ¯ Angualr å’Œ React å¼€å‘é£æ ¼çš„å‰ç«¯æ›´åŠ çš„å‹å¥½ï¼Œåœ¨æ¡ˆä¾‹ä¸­ä»…ä»…ä½¿ç”¨äº†å®šä¹‰ç»„ä»¶çš„è£…é¥°å™¨ `@customElement` å’Œ å¯¹å¤–æä¾›å±æ€§çš„ `@property`ï¼Œåœ¨ QuarkC ä¸­è¿˜æä¾›äº†å†…éƒ¨çŠ¶æ€`@state`ã€è‡ªå®šä¹‰äº‹ä»¶ `$emit`ã€æ’æ§½ `slot`ä»¥åŠç”Ÿå‘½å‘¨æœŸç­‰ã€‚[Quarkd](https://github.com/hellof2e/quark-design#documentation) å°±æ˜¯å“ˆå•°æŠ€æœ¯å›¢é˜ŸåŸºäº Web Components çš„è·¨æ¡†æ¶ UI ç»„ä»¶åº“ã€‚
åˆ†ä¹…å¿…åˆï¼Œå¯èƒ½ Web Components çš„è·¨æ¡†æ¶ UI ç»„ä»¶åº“å°±æ˜¯ä¸‹ä¸€ä»£çš„å‰ç«¯ç»„ä»¶ï¼Œåœ¨åé¢çš„å¾®å‰ç«¯é¡¹ç›®è¿­ä»£ä¸­å°†æœ‰å¿…è¦è€ƒè™‘ä½¿ç”¨ QuarkC æ„å»ºè·¨å¹³å°çš„ä¸šåŠ¡ç»„ä»¶ã€‚ä½ è§‰å¾— QuarkC æ€ä¹ˆæ ·ï¼Ÿ
